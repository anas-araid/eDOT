<h1>Reports</h1>
<div style = "overflow-x:auto;">
  <table class = "sortable mdl-data-table mdl-js-data-table mdl-shadow--2dp mdl-color--cyan-50">
    <thead>
      <tr>
        <% [ "Patient ID", "Name", "Surname", "Date"].each do |col_name| %>
          <th class="mdl-data-table__cell--non-numeric mdl-color--teal-400 mdl-color-text--cyan-50"><%= col_name %></th>
        <% end %>
      </tr>
    </thead>

    <tbody>
      <% @patient.reports.each do |report| %>
        <tr>
          <% [report.patient_id, report.patient.name, report.patient.surname, report.date ].each do |field| %>
            <td class="mdl-data-table__cell--non-numeric">
              <% field = "" if field.nil?%>
              <%= link_to field, patient_report_url(report.patient, report) %>
            </td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
<br>

<%= link_to 'Download All reports (CSV)', patient_reports_path(format: :csv) %> |
<%= link_to 'New Report', new_patient_report_path %> |
<%= link_to 'Show Patient', patient_path(@patient) %> |
<%= link_to 'Show all patients', patients_path%>
