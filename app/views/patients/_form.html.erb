<%= form_for(patient) do |f| %>

  <% if patient.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(patient.errors.count, "error") %> prohibited this patient from being saved:</h2>

      <ul>
      <% patient.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
    <%= f.text_field :name, :class => "mdl-textfield__input", :id => "name"%>
    <%= f.label :name, :class => "mdl-textfield__label", :for => "name"%>
  </div>
  <br>

  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
    <%= f.text_field :surname, :class => "mdl-textfield__input", :id => "surname"%>
    <%= f.label :surname, :class => "mdl-textfield__label", :for => "surname"%>
  </div>

  <div class="field">
    <%= f.label :birthdate %><br />
    <%= f.date_select :birthdate, autofocus: true, start_year: 1900, order: [:day, :month, :year] %>
  </div>

  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
    <%= f.number_field :phone, :class => "mdl-textfield__input", :id => "phone"%>
    <%= f.label :phone, :class => "mdl-textfield__label", :for => "phone"%>
  </div>

  <br>

  <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect">
    <%= f.radio_button :gender, 'male', :class => "mdl-radio__button" , :checked => true %>
    <%= label :male, 'Male' %>
  </label>
  <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect">
   <%= f.radio_button :gender, 'female', :class => "mdl-radio__button" %>
   <%= label :female, 'Female' %>
 </label>

  <br>

  <br>

  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
    <%= f.text_field :address, :class => "mdl-textfield__input", :id => "address"%>
    <%= f.label :address, :class => "mdl-textfield__label", :for => "address"%>
  </div>

  <br>

  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label getmdl-select" >
   <%= f.text_field :health_center_id, :class => "mdl-textfield__input", :value => ("#{@user_health_center.id}. #{@user_health_center.name}" if not @user_health_center.nil?), :type => "text", :readonly => "", :id => "health_center", :tabIndex => "-1" %>
     <label class="mdl-textfield__label" for="health_center">Health Center</label>

     <ul class="mdl-menu mdl-menu--bottom-left mdl-js-menu" for="health_center">
       <% @health_centers.each do |health_center| %>
         <li class="mdl-menu__item">
           <%= "#{health_center.id}. #{health_center.name}" %>
         </li>
       <% end %>
     </ul>
  </div>
  <%= link_to new_health_center_path, :class =>"mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-button--colored mdl-color--teal-400 mdl-color-text--cyan-50", :id => "add_button" do  %>
   <i class="material-icons">add</i>
 <% end %>
  <br>
  <br>

  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label getmdl-select" >
   <%= f.text_field :user_id, :class => "mdl-textfield__input", :value => "#{current_user.id}. #{current_user.name} #{current_user.surname}", :type => "text", :readonly => "", :id => "user", :tabIndex => "-1" %>
     <label class="mdl-textfield__label" for="user">Cared by</label>

     <ul class="mdl-menu mdl-menu--bottom-left mdl-js-menu" for="user">
       <% @users.each do |user| %>
         <li class="mdl-menu__item">
           <%= "#{user.id}. #{user.name} #{user.surname}" %>
         </li>
       <% end %>
     </ul>
  </div>

  <div class="field">
    <%= f.label :starting_therapy_day %>
    <%= f.date_select :starting_therapy_day, start_year: 1900, order: [:day, :month, :year] %>
  </div>

  <div id="buttons_div" >
    <div id = "form_button">
      <%= button_to patients_path, :class => "mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored mdl-color--teal-400 mdl-color-text--cyan-50", method: :update do %>
        <i class="material-icons">exit_to_app</i>
      <% end %>
    </div>

    <% if form_type=="Edit" %>
      &emsp; &emsp;
      <div id = "form_button">
        <%= button_to patient_path(patient), :class => "mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored mdl-color--red mdl-color-text--cyan-50", data: { confirm: "Are you sure?" }, method: :delete do %>
          <i class="material-icons">delete</i>
        <% end %>
      </div>
    <% end %>
  </div>
<% end %>
